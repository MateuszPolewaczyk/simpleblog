{% extends 'panel/panel.html.twig' %}

{% block body %}
	<div class="row p-2 panel-actions mb-2">
		<a class="btn btn-sm btn-primary" href="{{ path('createPost') }}">Create Post</a>
	</div>
	<span class="d-none d-sm-block">
		{% include 'pagination.html.twig' %}
	</span>
		<div class="list-group my-4">
			{% for post in posts %}
				<li class="list-group-item list-group-item-action flex-column align-items-start m-1">
					<div class="d-flex w-100 justify-content-between">
				      <h5 class="mb-1">{{ post.title }}</h5>
				      <small class="text-dark">#{{ post.id }}</small>
				    </div>
				    <div class="d-flex w-100 justify-content-between">
				    <p class="mb-1 w-75">{{ post.text|length > 83 ? post.text|striptags|slice(0, 83) ~ '...' : post.text|striptags }}</p>
				    <span class="pull-right">
						<a href="{{ path('editPost', {id: post.id}) }}">
							<span class="align-top">
								<i style="font-size: 1.5em;" class="fa fa-pencil-square-o"></i>
							</span>
						</a>
						<a href="{{ path('deletePost', {id: post.id}) }}">
							<span class="align-top">
								<i style="font-size: 1.5em;" class="text-danger fa fa-trash"></i>
							</span>
						</a>				    	
				    </span>
				    </div>
				    <small class="pull-left">Created: {{ post.creationDate|date('Y-m-d H:i') }}</small>
				</li>
			{% endfor %}
		</div>
	{% include 'pagination.html.twig' %}
{% endblock %}
